import{_ as s,c as a,b as n,o as l}from"./chunks/framework.CUf7xJpa.js";const p=JSON.parse('{"title":"shell","description":"","frontmatter":{},"headers":[{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]},{"level":2,"title":"zx用法","slug":"zx用法","link":"#zx用法","children":[]}],"relativePath":"devops/shell.md","filePath":"devops/shell.md"}');const e=s({name:"devops/shell.md"},[["render",function(s,p,e,o,t,c){return l(),a("div",null,p[0]||(p[0]=[n('<h1 id="shell" tabindex="-1">shell <a class="header-anchor" href="#shell" aria-label="Permalink to &quot;shell&quot;">​</a></h1><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 上传文件</span></span>\n<span class="line"><span style="color:#B392F0;">scp</span><span style="color:#9ECBFF;"> dist-admin.zip</span><span style="color:#9ECBFF;"> root@10.8.58.42:/data/webroot</span><span style="color:#E1E4E8;"> </span></span>\n<span class="line"><span style="color:#6A737D;"># 查histroy</span></span>\n<span class="line"><span style="color:#79B8FF;">history</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> mysql</span></span>\n<span class="line"><span style="color:#6A737D;"># 重命名</span></span>\n<span class="line"><span style="color:#B392F0;">mv</span><span style="color:#9ECBFF;"> dist</span><span style="color:#9ECBFF;"> dist20210330</span></span>\n<span class="line"><span style="color:#6A737D;"># 软链接</span></span>\n<span class="line"><span style="color:#B392F0;">ln</span><span style="color:#79B8FF;"> -s</span><span style="color:#9ECBFF;"> /usr/local/bin/npx</span><span style="color:#9ECBFF;"> /usr/bin</span></span>\n<span class="line"><span style="color:#6A737D;"># 查找应用路径</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 查历史记录</span></span>\n<span class="line"><span style="color:#B392F0;">Histroy</span><span style="color:#F97583;"> |</span><span style="color:#B392F0;"> grep</span><span style="color:#9ECBFF;"> mysql</span></span></code></pre></div><h2 id="zx用法" tabindex="-1"><a href="https://juejin.cn/post/6979989936137043999" target="_blank" rel="noreferrer">zx用法</a> <a class="header-anchor" href="#zx用法" aria-label="Permalink to &quot;[zx用法](https://juejin.cn/post/6979989936137043999)&quot;">​</a></h2><ul><li>zx使用支持node await语法，可以实现部署自动化</li><li>安装 <code>npm i -g zx</code></li><li>编写脚本 scripts/deploy.js</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">#!/usr/bin/env zx</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;">// 在控制台打印</span></span>\n<span class="line"><span style="color:#E1E4E8;">$.verbose </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">await</span><span style="color:#B392F0;"> $</span><span style="color:#9ECBFF;">`ls`</span><span style="color:#E1E4E8;">;</span></span>\n<span class="line"><span style="color:#B392F0;">cd</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;.vitepress/dist&#39;</span><span style="color:#E1E4E8;">);</span></span>\n<span class="line"><span style="color:#F97583;">await</span><span style="color:#B392F0;"> $</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;">;</span></span>\n<span class="line"><span style="color:#F97583;">await</span><span style="color:#B392F0;"> $</span><span style="color:#9ECBFF;">`git push`</span><span style="color:#E1E4E8;">;</span></span></code></pre></div><ul><li>和前端工程集成，在package.json中添加命令 <code>&quot;deploy&quot;: &quot; chmod +x script/deploy.js &amp;&amp; script/deploy.js&quot;</code></li></ul>',7)]))}]]);export{p as __pageData,e as default};
