import{_ as s,c as a,b as n,o as l}from"./chunks/framework.CUf7xJpa.js";const e=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.slot语法更简短","slug":"_1-slot语法更简短","link":"#_1-slot语法更简短","children":[{"level":3,"title":"统一成v-slot,包括局部作用域","slug":"统一成v-slot-包括局部作用域","link":"#统一成v-slot-包括局部作用域","children":[]},{"level":3,"title":"#号简写","slug":"号简写","link":"#号简写","children":[]}]},{"level":2,"title":"2.动态指令参数","slug":"_2-动态指令参数","link":"#_2-动态指令参数","children":[]},{"level":2,"title":"3.树摇","slug":"_3-树摇","link":"#_3-树摇","children":[{"level":3,"title":"变化","slug":"变化","link":"#变化","children":[]},{"level":3,"title":"Affected 2.x APIs","slug":"affected-2-x-apis","link":"#affected-2-x-apis","children":[]}]},{"level":2,"title":"4.增强v-model","slug":"_4-增强v-model","link":"#_4-增强v-model","children":[]},{"level":2,"title":"5.全局方法改成实例方法","slug":"_5-全局方法改成实例方法","link":"#_5-全局方法改成实例方法","children":[{"level":3,"title":"Before","slug":"before","link":"#before","children":[]},{"level":3,"title":"After","slug":"after","link":"#after","children":[]}]},{"level":2,"title":"6.自定义指令","slug":"_6-自定义指令","link":"#_6-自定义指令","children":[{"level":3,"title":"动机","slug":"动机","link":"#动机","children":[]},{"level":3,"title":"Before","slug":"before-1","link":"#before-1","children":[]},{"level":3,"title":"After","slug":"after-1","link":"#after-1","children":[]}]},{"level":2,"title":"7.composition api","slug":"_7-composition-api","link":"#_7-composition-api","children":[]},{"level":2,"title":"8.移除filter","slug":"_8-移除filter","link":"#_8-移除filter","children":[{"level":3,"title":"移除动机","slug":"移除动机","link":"#移除动机","children":[]}]},{"level":2,"title":"9.移除keycode","slug":"_9-移除keycode","link":"#_9-移除keycode","children":[{"level":3,"title":"移除动机","slug":"移除动机-1","link":"#移除动机-1","children":[]}]},{"level":2,"title":"10.移除inline-template","slug":"_10-移除inline-template","link":"#_10-移除inline-template","children":[{"level":3,"title":"移除动机","slug":"移除动机-2","link":"#移除动机-2","children":[]}]},{"level":2,"title":"11.vue实例上移除事件方法","slug":"_11-vue实例上移除事件方法","link":"#_11-vue实例上移除事件方法","children":[{"level":3,"title":"移除动机","slug":"移除动机-3","link":"#移除动机-3","children":[]}]},{"level":2,"title":"12.移除inline-template","slug":"_12-移除inline-template","link":"#_12-移除inline-template","children":[{"level":3,"title":"移除动机","slug":"移除动机-4","link":"#移除动机-4","children":[]},{"level":3,"title":"13.data对象声明","slug":"_13-data对象声明","link":"#_13-data对象声明","children":[]}]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}],"relativePath":"frontend/vue3_refs.md","filePath":"frontend/vue3_refs.md"}');const p=s({name:"frontend/vue3_refs.md"},[["render",function(s,e,p,o,t,c){return l(),a("div",null,e[0]||(e[0]=[n('<h2 id="_1-slot语法更简短" tabindex="-1">1.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0002-slot-syntax-shorthand.md" target="_blank" rel="noreferrer">slot语法更简短</a> <a class="header-anchor" href="#_1-slot语法更简短" aria-label="Permalink to &quot;1.[slot语法更简短](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0002-slot-syntax-shorthand.md)&quot;">​</a></h2><h3 id="统一成v-slot-包括局部作用域" tabindex="-1">统一成v-slot,包括局部作用域 <a class="header-anchor" href="#统一成v-slot-包括局部作用域" aria-label="Permalink to &quot;统一成v-slot,包括局部作用域&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">foo</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> v-slot:header</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;{ msg }&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    {{ msg }}</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#FDAEB7;font-style:italic;">foo</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="号简写" tabindex="-1">#号简写 <a class="header-anchor" href="#号简写" aria-label="Permalink to &quot;#号简写&quot;">​</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">foo</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> #header</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;{ msg }&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    Message from header: {{ msg }}</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">   &lt;</span><span style="color:#85E89D;">template</span><span style="color:#B392F0;"> #footer</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    A static footer</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#FDAEB7;font-style:italic;">foo</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_2-动态指令参数" tabindex="-1">2.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0003-dynamic-directive-arguments.md" target="_blank" rel="noreferrer">动态指令参数</a> <a class="header-anchor" href="#_2-动态指令参数" aria-label="Permalink to &quot;2.[动态指令参数](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0003-dynamic-directive-arguments.md)&quot;">​</a></h2><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> :[key]</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;value&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#B392F0;"> @[event]</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;handler&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_3-树摇" tabindex="-1">3.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0004-global-api-treeshaking.md" target="_blank" rel="noreferrer">树摇</a> <a class="header-anchor" href="#_3-树摇" aria-label="Permalink to &quot;3.[树摇](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0004-global-api-treeshaking.md)&quot;">​</a></h2><h3 id="变化" tabindex="-1">变化 <a class="header-anchor" href="#变化" aria-label="Permalink to &quot;变化&quot;">​</a></h3><p>Currently in 2.x, all global APIs are exposed on the single Vue object:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Vue </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">nextTick</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {})</span></span>\n<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> obj</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> Vue.</span><span style="color:#B392F0;">observable</span><span style="color:#E1E4E8;">({})</span></span></code></pre></div><p>In 3.x, they can only be accessed as named imports:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Vue, { nextTick, observable } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.nextTick </span><span style="color:#6A737D;">// undefined</span></span>\n<span class="line"><span style="color:#B392F0;">nextTick</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {})</span></span>\n<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> obj</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> observable</span><span style="color:#E1E4E8;">({})</span></span></code></pre></div><h3 id="affected-2-x-apis" tabindex="-1">Affected 2.x APIs <a class="header-anchor" href="#affected-2-x-apis" aria-label="Permalink to &quot;Affected 2.x APIs&quot;">​</a></h3><ul><li><code>Vue.nextTick</code></li><li><code>Vue.observable</code></li><li><code>Vue.version</code></li><li><code>Vue.compile</code> (only in full builds)</li><li><code>Vue.set</code> (only in compat builds)</li><li><code>Vue.delete</code> (only in compat builds)</li></ul><h2 id="_4-增强v-model" tabindex="-1">4.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0005-replace-v-bind-sync-with-v-model-argument.md" target="_blank" rel="noreferrer">增强v-model</a> <a class="header-anchor" href="#_4-增强v-model" aria-label="Permalink to &quot;4.[增强v-model](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0005-replace-v-bind-sync-with-v-model-argument.md)&quot;">​</a></h2><p>Instead of:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">MyComponent</span><span style="color:#B392F0;"> v-bind:title.sync</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre></div><p>the syntax would be:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#FDAEB7;font-style:italic;">MyComponent</span><span style="color:#B392F0;"> v-model:title</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre></div><h2 id="_5-全局方法改成实例方法" tabindex="-1">5.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0009-global-api-change.md" target="_blank" rel="noreferrer">全局方法改成实例方法</a> <a class="header-anchor" href="#_5-全局方法改成实例方法" aria-label="Permalink to &quot;5.[全局方法改成实例方法](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0009-global-api-change.md)&quot;">​</a></h2><h3 id="before" tabindex="-1">Before <a class="header-anchor" href="#before" aria-label="Permalink to &quot;Before&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Vue </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> App </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;./App.vue&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.config.ignoredElements </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#DBEDFF;">app-</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">]</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">mixin</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">Vue.</span><span style="color:#B392F0;">directive</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#79B8FF;">Vue</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">customProperty</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">new</span><span style="color:#B392F0;"> Vue</span><span style="color:#E1E4E8;">({</span></span>\n<span class="line"><span style="color:#B392F0;">  render</span><span style="color:#E1E4E8;">: </span><span style="color:#FFAB70;">h</span><span style="color:#F97583;"> =&gt;</span><span style="color:#B392F0;"> h</span><span style="color:#E1E4E8;">(App)</span></span>\n<span class="line"><span style="color:#E1E4E8;">}).</span><span style="color:#B392F0;">$mount</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h3 id="after" tabindex="-1">After <a class="header-anchor" href="#after" aria-label="Permalink to &quot;After&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { createApp } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> App </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;./App.vue&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> app</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> createApp</span><span style="color:#E1E4E8;">(App)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">app.config.</span><span style="color:#B392F0;">isCustomElement</span><span style="color:#F97583;"> =</span><span style="color:#FFAB70;"> tag</span><span style="color:#F97583;"> =&gt;</span><span style="color:#E1E4E8;"> tag.</span><span style="color:#B392F0;">startsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;app-&#39;</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">mixin</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">directive</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* ... */</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">app.config.globalProperties.</span><span style="color:#B392F0;">customProperty</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">(App, </span><span style="color:#9ECBFF;">&#39;#app&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre></div><h2 id="_6-自定义指令" tabindex="-1">6.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0012-custom-directive-api-change.md" target="_blank" rel="noreferrer">自定义指令</a> <a class="header-anchor" href="#_6-自定义指令" aria-label="Permalink to &quot;6.[自定义指令](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0012-custom-directive-api-change.md)&quot;">​</a></h2><h3 id="动机" tabindex="-1">动机 <a class="header-anchor" href="#动机" aria-label="Permalink to &quot;动机&quot;">​</a></h3><p>自定义指令钩子名称和组件生命周期钩子名称一致</p><h3 id="before-1" tabindex="-1">Before <a class="header-anchor" href="#before-1" aria-label="Permalink to &quot;Before&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>const MyDirective = {</span></span>\n<span class="line"><span>  bind(el, binding, vnode, prevVnode) {},</span></span>\n<span class="line"><span>  inserted() {},</span></span>\n<span class="line"><span>  update() {},</span></span>\n<span class="line"><span>  componentUpdated() {},</span></span>\n<span class="line"><span>  unbind() {}</span></span>\n<span class="line"><span>}</span></span></code></pre></div><h3 id="after-1" tabindex="-1">After <a class="header-anchor" href="#after-1" aria-label="Permalink to &quot;After&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>const MyDirective = {</span></span>\n<span class="line"><span>  beforeMount(el, binding, vnode, prevVnode) {},</span></span>\n<span class="line"><span>  mounted() {},</span></span>\n<span class="line"><span>  beforeUpdate() {},</span></span>\n<span class="line"><span>  updated() {},</span></span>\n<span class="line"><span>  beforeUnmount() {}, // new</span></span>\n<span class="line"><span>  unmounted() {}</span></span>\n<span class="line"><span>}</span></span></code></pre></div><h2 id="_7-composition-api" tabindex="-1">7.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0013-composition-api.md" target="_blank" rel="noreferrer">composition api</a> <a class="header-anchor" href="#_7-composition-api" aria-label="Permalink to &quot;7.[composition api](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0013-composition-api.md)&quot;">​</a></h2><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">button</span><span style="color:#B392F0;"> @click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;increment&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    Count is: {{ state.count }}, double is: {{ state.double }}</span></span>\n<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { reactive, computed } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#B392F0;">  setup</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#F97583;">    const</span><span style="color:#79B8FF;"> state</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> reactive</span><span style="color:#E1E4E8;">({</span></span>\n<span class="line"><span style="color:#E1E4E8;">      count: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">      double: </span><span style="color:#B392F0;">computed</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> state.count </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 2</span><span style="color:#E1E4E8;">)</span></span>\n<span class="line"><span style="color:#E1E4E8;">    })</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">    function</span><span style="color:#B392F0;"> increment</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#E1E4E8;">      state.count</span><span style="color:#F97583;">++</span></span>\n<span class="line"><span style="color:#E1E4E8;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">      state,</span></span>\n<span class="line"><span style="color:#E1E4E8;">      increment</span></span>\n<span class="line"><span style="color:#E1E4E8;">    }</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_8-移除filter" tabindex="-1">8.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0015-remove-filters.md" target="_blank" rel="noreferrer">移除filter</a> <a class="header-anchor" href="#_8-移除filter" aria-label="Permalink to &quot;8.[移除filter](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0015-remove-filters.md)&quot;">​</a></h2><h3 id="移除动机" tabindex="-1">移除动机 <a class="header-anchor" href="#移除动机" aria-label="Permalink to &quot;移除动机&quot;">​</a></h3><ul><li>filter操作符|和逻辑或冲突</li><li>创造了js不支持的新语法</li><li>可以被方法和计算属性代替</li><li>增加实现成本和框架复杂度</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">&lt;!-- before --&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">{{ msg | format }}</span></span>\n<span class="line"><span style="color:#6A737D;">&lt;!-- after --&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">{{ format(msg) }}</span></span></code></pre></div><h2 id="_9-移除keycode" tabindex="-1">9.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0015-remove-filters.md" target="_blank" rel="noreferrer">移除keycode</a> <a class="header-anchor" href="#_9-移除keycode" aria-label="Permalink to &quot;9.[移除keycode](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0015-remove-filters.md)&quot;">​</a></h2><h3 id="移除动机-1" tabindex="-1">移除动机 <a class="header-anchor" href="#移除动机-1" aria-label="Permalink to &quot;移除动机&quot;">​</a></h3><ul><li>KeyboardEvent.keyCode可以用KeyboardEvent.key替代</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">input</span><span style="color:#B392F0;"> @keyup.page-down</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;onArrowUp&quot;</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_10-移除inline-template" tabindex="-1">10.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0016-remove-inline-templates.md" target="_blank" rel="noreferrer">移除inline-template</a> <a class="header-anchor" href="#_10-移除inline-template" aria-label="Permalink to &quot;10.[移除inline-template](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0016-remove-inline-templates.md)&quot;">​</a></h2><h3 id="移除动机-2" tabindex="-1">移除动机 <a class="header-anchor" href="#移除动机-2" aria-label="Permalink to &quot;移除动机&quot;">​</a></h3><ul><li>inline-template让模板作用域不一致</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">&lt;!-- before --&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">my-comp</span><span style="color:#B392F0;"> inline-template</span><span style="color:#B392F0;"> :msg</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;parentMsg&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  {{ msg }} {{ childState }}</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">my-comp</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;">&lt;!-- after --&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">my-comp</span><span style="color:#B392F0;"> v-slot</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;{ childState }&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  {{ parentMsg }} {{ childState }}</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">my-comp</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_11-vue实例上移除事件方法" tabindex="-1">11.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0020-events-api-change.md" target="_blank" rel="noreferrer">vue实例上移除事件方法</a> <a class="header-anchor" href="#_11-vue实例上移除事件方法" aria-label="Permalink to &quot;11.[vue实例上移除事件方法](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0020-events-api-change.md)&quot;">​</a></h2><p>Remove $on, $off and $once instance methods.</p><h3 id="移除动机-3" tabindex="-1">移除动机 <a class="header-anchor" href="#移除动机-3" aria-label="Permalink to &quot;移除动机&quot;">​</a></h3><ul><li>event emitter API不是组件数据流的一部分</li></ul><h2 id="_12-移除inline-template" tabindex="-1">12.<a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0023-scoped-styles-changes.md" target="_blank" rel="noreferrer">移除inline-template</a> <a class="header-anchor" href="#_12-移除inline-template" aria-label="Permalink to &quot;12.[移除inline-template](https://github.com/vuejs/rfcs/blob/master/active-rfcs/0023-scoped-styles-changes.md)&quot;">​</a></h2><p>Remove $on, $off and $once instance methods.</p><h3 id="移除动机-4" tabindex="-1">移除动机 <a class="header-anchor" href="#移除动机-4" aria-label="Permalink to &quot;移除动机&quot;">​</a></h3><ul><li>保持和css命令一致</li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">style</span><span style="color:#B392F0;"> scoped</span><span style="color:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="color:#6A737D;">/* deep selectors */</span></span>\n<span class="line"><span style="color:#E1E4E8;">::v-deep(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"><span style="color:#6A737D;">/* shorthand */</span></span>\n<span class="line"><span style="color:#E1E4E8;">:deep(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;">/* targeting slot content */</span></span>\n<span class="line"><span style="color:#E1E4E8;">::v-slotted(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"><span style="color:#6A737D;">/* shorthand */</span></span>\n<span class="line"><span style="color:#E1E4E8;">:slotted(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;">/* one-off global rule */</span></span>\n<span class="line"><span style="color:#E1E4E8;">::v-global(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"><span style="color:#6A737D;">/* shorthand */</span></span>\n<span class="line"><span style="color:#E1E4E8;">:global(</span><span style="color:#B392F0;">.foo</span><span style="color:#E1E4E8;">) {}</span></span>\n<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="_13-data对象声明" tabindex="-1">13.data对象声明 <a class="header-anchor" href="#_13-data对象声明" aria-label="Permalink to &quot;13.data对象声明&quot;">​</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { createApp, h } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#B392F0;">createApp</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">mount</span><span style="color:#E1E4E8;">({</span></span>\n<span class="line"><span style="color:#6A737D;">// 这里只能用函数</span></span>\n<span class="line"><span style="color:#B392F0;">  data</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#F97583;">    return</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">      counter: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    }</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs" target="_blank" rel="noreferrer">rfcs</a></li></ul>',59)]))}]]);export{e as __pageData,p as default};
